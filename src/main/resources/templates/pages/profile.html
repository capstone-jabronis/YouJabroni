<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="partials/partials :: head('Profile')"></head>
<body>
<nav th:replace="partials/partials :: nav"></nav>
<div class="page-wrapper">
  <h1>This is a user's profile page</h1>
  <div>
     <div>
        <div>
<!--        here would go the user profile pic    -->
            <img th:src="${user.ProfileURL}" alt="profile pic">
            <h4 th:text="${user.username}"></h4>
<!--            uncomment when found solution to this-->
<!--            <span>number of wins:<span th:text="counter for tournament.winner where id mathes user.id"></span></span>-->
            <div th:each="meme : ${user.memeSubmissions}">
                <h4 th:text="${meme.caption}"></h4>
            </div>
            <form th:method="POST" th:action="@{|/tournament/profile/${user.id}/edit|}" sec:authorize="${isAuthenticated()}">
                <button>EDIT PROFILE</button>
            </form>
        </div>
      <div sec:authorize="isAuthenticated()" th:object="${user}">
        <button th:if="${#authentication.principal.id == user.id}">Edit profile</button>
      </div>
    </div>
  </div>
</div>
<footer th:replace="partials/partials :: footer"></footer>
</body>
</html>