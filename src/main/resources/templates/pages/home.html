<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <div th:replace="partials/partials :: head(title='Home Page')">

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.6.1/sockjs.min.js"
            integrity="sha512-1QvjE7BtotQjkq8PxLeF6P46gEpBRXuskzIVgjFpekzFVF4yjRgrQvTG1MTOJ3yQgvTteKAcO7DSZI92+u/yZw=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"
            integrity="sha512-iKDtgDyTHjAitUDdLljGhenhPwrbBfqTKWO1mkhSFH3A7blITC9MhYon6SjnMhp4o0rADGw9yAC6EW4t5a4K3g=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</head>
<body>
<nav th:replace="partials/partials :: nav"></nav>

<div class="jdHomePageWrapperCSS">
    <aside class="jdleaderboard" th:replace="partials/partials :: leaderboard"></aside>
    <!--    <aside class="jdtournament-list leaderboard column">-->
    <!--        <div id="jdtournamentResults">-->
    <!--        </div>-->
    <!--    </aside>-->
    <aside class="jdtournament-list leaderboard column">
        <div class="leader-cards">
            <div class="leader-title row">
                <h1>TOURNAMENTS</h1>
            </div>
            <div>
                <form id="create-tournament-form" th:action="@{/tournament/create-tournament}">
                    <button type="submit">Host a Tournament!</button>
                </form>
            </div>
            <div th:each="tournament : ${tournaments}">
                <form class="row player name jdTournamentCSS" th:action="@{|/tournament/waiting-room/${tournament.id}|}">
                    <p>TOURNAMENT ID: <span th:text="${tournament.id}"></span></p>
                    <p>PLAYERS: <span th:text="${#lists.size(tournament.userSet)}"></span>/8</p>
                    <button data-th-tournament="${tournament.id}" type="submit">Join Now!</button>
                </form>
            </div>
        </div>
    </aside>
</div>
<!--<div class="tournament-card d-flex" th:each="tournament : ${tournaments}">-->
<!--    <form th:action="@{|/tournament/waiting-room/${tournament.id}|}">-->
<!--        <p>TEST TOURNAMENT</p>-->
<!--        <p>TEST TOURNAMENT ID: <span th:text="${tournament.id}"></span></p>-->
<!--        <button data-th-tournament="${tournament.id}" type="submit">Join Now!</button>-->
<!--    </form>-->
<!--</div>-->
<footer th:replace="partials/partials :: footer"></footer>

<script th:inline="javascript">

</script>
<script th:src="@{/js/tournament.js}"></script>
<!--<script th:src="@{/js/websocket-tournament.js}"></script>-->


</body>
</html>