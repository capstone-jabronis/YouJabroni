<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <div th:replace="partials/partials :: head(title='lobby')">

    </div>
    <!--    <script src="https://cdn.jsdelivr.net/npm/@stomp/stompjs@7.0.0/bundles/stomp.umd.min.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.6.1/sockjs.min.js"
            integrity="sha512-1QvjE7BtotQjkq8PxLeF6P46gEpBRXuskzIVgjFpekzFVF4yjRgrQvTG1MTOJ3yQgvTteKAcO7DSZI92+u/yZw=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"
            integrity="sha512-iKDtgDyTHjAitUDdLljGhenhPwrbBfqTKWO1mkhSFH3A7blITC9MhYon6SjnMhp4o0rADGw9yAC6EW4t5a4K3g=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!--    <script th:src="@{/js/sockjs.min.js}"></script>-->
    <!--    <script th:src="@{/js/stomp.min.js}"></script>-->
</head>
<nav th:replace="partials/partials :: nav"></nav>
<body>
<div class="page-wrapper">
    <!--  Just in case: try to grab value for tournament ID -->
    <!--                 <h1>TOURNAMENT ID: <span id="tournamentID" th:text="${tournament.id}"></span></h1>
                    <input type="hidden" name="tournamentId" value="${sessionScope.tournamentId} /> -->
    <div class="jdWaitTitleContainer">
        <div class="jdWaitTitleRow">
            <div class="jdWaitTitleCol">
                <h1>TOURNAMENT ID: <span data-th-tournament="${tournament.id}"
                                         th:text="${tournament.getId()}"></span></h1>
            </div>
        </div>
    </div>

    <div class="jdWaitContainer">
        <div class="jdWaitRow">
            <div class="jdWaitColUl">

                <h2>here are players in lobby:</h2>
<!--                <ul th:each="user : ${users}">-->
<!--                    <p class="user-info" th:text="${user.getUsername()}"></p>-->
<!--                </ul>-->
<!--                &lt;!&ndash;                TESTING REAL TIME UPDATES&ndash;&gt;-->
<!--                <h3>WEBSOCKET USER UPDATE</h3>-->
                <div id="users-in-room"></div>
                <button id="leave-lobby-btn">Leave/Cancel</button>
            </div>
            <div class="jdWaitColCanvas">
                <canvas id="snakeGame" th:width="800" th:height="800">
                </canvas>
            </div>
        </div>
    </div>
</div>
</div>
<footer th:replace="partials/partials :: footer"></footer>
<script th:inline="javascript">/*<![CDATA[*/

const currentUser = /*[[${currentUser}]]*/ 'default';
const tournamentId = /*[[${tournament.id}]]*/ 'default';

/*]]>*/
</script>
<script th:src="@{/js/tournament.js}"></script>
<script th:src="@{/js/websocket-tournament.js}"></script>
<script th:src="@{/js/snakeGame.js}"></script>

</body>
</html>